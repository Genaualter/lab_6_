/*
   –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
   Cultist Simulator Zhalkaya Parodia
*/

// –¢–∏–ø—ã –∫–∞—Ä—Ç
const cardTypes = {
    ASPECT: 'aspect',
    FOLLOWER: 'follower',
    LOCATION: 'location',
    LORE: 'lore',
    RESOURCE: 'resource',
    CULT: 'cult'
};

// –≠–º–æ–¥–∑–∏ –¥–ª—è –∫–∞—Ä—Ç
const cardEmojis = {
    [cardTypes.ASPECT]: 'üåü',
    [cardTypes.FOLLOWER]: 'üë§',
    [cardTypes.LOCATION]: 'üó∫Ô∏è',
    [cardTypes.LORE]: 'üìú',
    [cardTypes.RESOURCE]: 'üí∞',
    [cardTypes.CULT]: '‚ò™Ô∏è'
};

// 9 –∞—Å–ø–µ–∫—Ç–æ–≤ (–±—ã–≤—à–∏–µ –∑–Ω–∞–Ω–∏—è)
const KNOWLEDGE_TYPES = {
    EDGE: { 
        name: '–ì—Ä–∞–Ω—å', 
        emoji: 'üî™', 
        description: '–û—Å—Ç—Ä–æ—Ç–∞ —Ä–∞–∑—É–º–∞ –∏ —Ä–µ—à–∏–º–æ—Å—Ç—å. –ü—É—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∏ —Ä–æ—Å—Ç–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è–Ω–∏–µ.',
        color: '#32cd32' // –ó–ï–õ–ï–ù–´–ô
    },
    WINTER: { 
        name: '–ó–∏–º–∞', 
        emoji: '‚ùÑÔ∏è', 
        description: '–•–æ–ª–æ–¥–Ω—ã–π —Ä–∞—Å—á–µ—Ç –∏ —Ç–µ—Ä–ø–µ–Ω–∏–µ. –ü—É—Ç—å –≤–µ—á–Ω–æ–≥–æ –ø–æ–∫–æ—è –∏ –ª–µ–¥—è–Ω–æ–π —è—Å–Ω–æ—Å—Ç–∏.',
        color: '#4682b4' // –°–ò–ù–ò–ô
    },
    HEART: { 
        name: '–°–µ—Ä–¥—Ü–µ', 
        emoji: '‚ù§Ô∏è', 
        description: '–°—Ç—Ä–∞—Å—Ç—å –∏ –∂–∏–∑–Ω–µ–Ω–Ω–∞—è —Å–∏–ª–∞. –ü—É—Ç—å —ç–º–æ—Ü–∏–π, –∂–µ–ª–∞–Ω–∏–π –∏ –≤–µ—á–Ω–æ–π —Ç–æ—Å–∫–∏.',
        color: '#dc143c' // –ö–†–ê–°–ù–´–ô
    },
    GRAIL: { 
        name: '–ß–∞—à–∞', 
        emoji: 'üç∑', 
        description: '–ñ–∞–∂–¥–∞ –∏ –Ω–∞—Å—ã—â–µ–Ω–∏–µ. –ü—É—Ç—å –≤–µ—á–Ω–æ–π –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∏ –Ω–µ–Ω–∞—Å—ã—Ç–Ω–æ—Å—Ç–∏.',
        color: '#8b4513' // –ö–û–†–ò–ß–ù–ï–í–´–ô
    },
    MOTH: { 
        name: '–ú–æ—Ç—ã–ª–µ–∫', 
        emoji: 'ü¶ã', 
        description: '–°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å–≤–µ—Ç—É –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ. –ü—É—Ç—å –≤–µ—á–Ω–æ–≥–æ —Å—Ç—Ä–∞–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏.',
        color: '#d2b48c' // –°–ï–†–û-–¢–ï–õ–ï–°–ù–´–ô
    },
    LANTERN: { 
        name: '–õ–∞–º–ø–∞–¥–∞', 
        emoji: 'ü™î', 
        description: '–ü—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏–µ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ. –ü—É—Ç—å —á–∏—Å—Ç–æ–≥–æ —Å–æ–∑–Ω–∞–Ω–∏—è –∏ –æ–∑–∞—Ä–µ–Ω–∏—è.',
        color: '#ffd700' // –ñ–ï–õ–¢–´–ô
    },
    FORGE: { 
        name: '–ö—É–∑–Ω—è', 
        emoji: '‚öíÔ∏è', 
        description: '–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ —Å–æ–∑–∏–¥–∞–Ω–∏–µ. –ü—É—Ç—å —Ç–≤–æ—Ä—Ü–∞ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–µ–π –∏ –ø–µ—Ä–µ–ø–ª–∞–≤–∫–∏ –º–∏—Ä–æ–≤.',
        color: '#ff4500' // –û–†–ê–ù–ñ–ï–í–´–ô
    },
    SECRET_HISTORIES: { 
        name: '–¢–∞–π–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏', 
        emoji: 'üìú', 
        description: '–ó–∞–±—ã—Ç—ã–µ –∑–Ω–∞–Ω–∏—è –ø—Ä–æ—à–ª–æ–≥–æ. –ü—É—Ç—å —Ö—Ä–æ–Ω–∏–∫–µ—Ä–∞ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª—è —É—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö –∏—Å—Ç–∏–Ω.',
        color: '#ff69b4' // –†–û–ó–û–í–´–ô
    },
    KNOCK: { 
        name: '–°—Ç—É–∫', 
        emoji: 'üîë', // –ò–∑–º–µ–Ω–µ–Ω —Å üö™ –Ω–∞ üîë (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –∫–ª—é—á)
        description: '–û—Ç–∫—Ä—ã—Ç–∏–µ –¥–≤–µ—Ä–µ–π –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π. –ü—É—Ç—å –≤—Ä–∞—Ç–∞—Ä—è –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª—è –ø–æ—Ä—Ç–∞–ª–æ–≤.',
        color: '#9370db' // –§–ò–û–õ–ï–¢–û–í–´–ô
    }
};

// –ö–æ–Ω—Ü–æ–≤–∫–∏ (—Å—Ç–∞—Ä—ã–µ + –Ω–æ–≤—ã–µ)
const endings = {
    // –ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–æ–≤–∫–∏
    MADNESS: {
        title: '–ë–ï–ó–£–ú–ò–ï',
        description: '–í—ã –∑–∞–≥–ª—è–Ω—É–ª–∏ —Å–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–æ –≤ –±–µ–∑–¥–Ω—É, –∏ –±–µ–∑–¥–Ω–∞ –∑–∞–≥–ª—è–Ω—É–ª–∞ –≤ –≤–∞—Å. –í–∞—à —Ä–∞–∑—É–º –Ω–µ –≤—ã–¥–µ—Ä–∂–∞–ª —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –Ω–µ–≤—ã—Ä–∞–∑–∏–º—ã–º–∏ –∏—Å—Ç–∏–Ω–∞–º–∏. –¢–µ–ø–µ—Ä—å –≤—ã –±—Ä–æ–¥–∏—Ç–µ –ø–æ —É–ª–∏—Ü–∞–º, –±–æ—Ä–º–æ—á–∞ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è –Ω–∞ –∑–∞–±—ã—Ç—ã—Ö —è–∑—ã–∫–∞—Ö, –≤–∏–¥—è —Ç–æ, —á–µ–≥–æ –Ω–µ –≤–∏–¥—è—Ç –¥—Ä—É–≥–∏–µ.',
        requirements: { type: 'state', reason: 0 }
    },
    FORGOTTEN: {
        title: '–ó–ê–ë–´–¢–´–ô',
        description: '–í–∞—à–∏ –ø–æ–∏—Å–∫–∏ –ø—Ä–∏–≤–µ–ª–∏ –≤–∞—Å –≤ –∑–∞–±—ã—Ç—ã–µ —É–≥–æ–ª–∫–∏ –º–∏—Ä–∞, –Ω–æ –≤—ã —Ç–∞–∫ –∏ –Ω–µ –Ω–∞—à–ª–∏ —Ç–æ–≥–æ, —á—Ç–æ –∏—Å–∫–∞–ª–∏. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –æ –≤–∞—Å –∑–∞–±—ã–ª–∏, –∏ –≤—ã —Å—Ç–∞–ª–∏ –ø—Ä–∏–∑—Ä–∞–∫–æ–º –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –∂–∏–∑–Ω–∏, –±–µ—Å—Ü–µ–ª—å–Ω–æ –±–ª—É–∂–¥–∞—é—â–∏–º –≤ –ø–æ–∏—Å–∫–∞—Ö —Å–º—ã—Å–ª–∞, –∫–æ—Ç–æ—Ä–æ–≥–æ –±–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.',
        requirements: { type: 'state', health: 0 }
    },
    
    // –ö–æ–Ω—Ü–æ–≤–∫–∏ —á–µ—Ä–µ–∑ –∞—Å–ø–µ–∫—Ç—ã (–≤–æ–∑–Ω–µ—Å–µ–Ω–∏–µ)
    EDGE_ENDING: {
        title: '–í–ï–ß–ù–´–ô –î–£–≠–õ–Ø–ù–¢',
        description: '–í—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Å—Ç–∏–≥–ª–∏ –ì—Ä–∞–Ω–∏. –¢–µ–ø–µ—Ä—å –≤—ã –≤–µ—á–Ω—ã–π –¥—É—ç–ª—è–Ω—Ç, —Å—Ç—Ä–∞–Ω—Å—Ç–≤—É—é—â–∏–π –ø–æ –º–∏—Ä–∞–º –∏ –∏—â—É—â–∏–π –¥–æ—Å—Ç–æ–π–Ω—ã—Ö –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–≤. –ö–∞–∂–¥–∞—è –≤–∞—à–∞ –ø–æ–±–µ–¥–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞–Ω–∏–µ, –∫–∞–∂–¥–∞—è –Ω–µ—É–¥–∞—á–∞ - –Ω–æ–≤—ã–π —É—Ä–æ–∫. –í—ã —Å—Ç–∞–ª–∏ –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∏ —Ä–æ—Å—Ç–∞.',
        requirements: { type: 'aspect', aspect: 'EDGE', count: 3 }
    },
    WINTER_ENDING: {
        title: '–•–†–ê–ù–ò–¢–ï–õ–¨ –õ–¨–î–ê',
        description: '–ó–∏–º–∞ –ø–æ–≥–ª–æ—Ç–∏–ª–∞ –≤–∞—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é. –í—ã —Å—Ç–∞–ª–∏ –±–µ—Å—Å–º–µ—Ä—Ç–Ω—ã–º —Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ–º –ª–µ–¥—è–Ω—ã—Ö –ø—É—Å—Ç–æ—à–µ–π, –Ω–∞–±–ª—é–¥–∞—é—â–∏–º –∑–∞ –≤–µ—á–Ω—ã–º –∑–∞–º–µ—Ä–∑–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏. –ù–∏—á—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å –≤–∞—à –ø–æ–∫–æ–π, –∏ –Ω–∏—á—Ç–æ –Ω–µ –º–æ–∂–µ—Ç —Å–æ–≥—Ä–µ—Ç—å –≤–∞—à–µ —Å–µ—Ä–¥—Ü–µ, –ø—Ä–µ–≤—Ä–∞—Ç–∏–≤—à–µ–µ—Å—è –≤ –∞–ª–º–∞–∑.',
        requirements: { type: 'aspect', aspect: 'WINTER', count: 3 }
    },
    HEART_ENDING: {
        title: '–ë–ï–°–°–ú–ï–†–¢–ù–û–ï –°–ï–†–î–¶–ï',
        description: '–°–µ—Ä–¥—Ü–µ —Å—Ç–∞–ª–æ –≤–∞—à–µ–π —Å—É—â–Ω–æ—Å—Ç—å—é. –í—ã –æ–±—Ä–µ–ª–∏ –≤–µ—á–Ω—É—é –∂–∏–∑–Ω—å, –Ω–æ –ø–ª–∞—Ç–æ–π —Å—Ç–∞–ª–∞ –≤–µ—á–Ω–∞—è —Ç–æ—Å–∫–∞. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –∫–∞–∂–¥—É—é –±–æ–ª—å –º–∏—Ä–∞, –∫–∞–∂–¥—É—é —Ä–∞–¥–æ—Å—Ç—å, –∫–∞–∂–¥—É—é –ø–æ—Ç–µ—Ä—é. –í—ã - –∂–∏–≤–æ–µ –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π, –≤–µ—á–Ω–æ –∏—â—É—â–µ–µ –ø–æ–∫–æ–π, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω–∞–π—Ç–∏.',
        requirements: { type: 'aspect', aspect: 'HEART', count: 3 }
    },
    GRAIL_ENDING: {
        title: '–ù–ï–ù–ê–°–´–¢–ù–´–ô',
        description: '–ß–∞—à–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è. –í—ã —Å—Ç–∞–ª–∏ —Å—É—â–µ—Å—Ç–≤–æ–º —á–∏—Å—Ç–æ–π –∂–∞–∂–¥—ã, –≤–µ—á–Ω–æ –∏—â—É—â–∏–º –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è, –Ω–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è, –Ω–æ–≤—ã–µ –º–∏—Ä—ã –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è. –í–∞—à –∞–ø–ø–µ—Ç–∏—Ç –±–µ–∑–≥—Ä–∞–Ω–∏—á–µ–Ω, –∏ —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ –≤—ã –ø–æ–≥–ª–æ—Ç–∏—Ç–µ –≤—Å–µ, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.',
        requirements: { type: 'aspect', aspect: 'GRAIL', count: 3 }
    },
    MOTH_ENDING: {
        title: '–í–ï–ß–ù–´–ô –°–¢–†–ê–ù–ù–ò–ö',
        description: '–í—ã —Å—Ç–∞–ª–∏ –ú–æ—Ç—ã–ª—å–∫–æ–º, –≤–µ—á–Ω–æ –ª–µ—Ç—è—â–∏–º –Ω–∞ —Å–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ—Å—Ç–∏–∂–∏–º. –í—ã –ø—É—Ç–µ—à–µ—Å—Ç–≤—É–µ—Ç–µ –º–µ–∂–¥—É –º–∏—Ä–∞–º–∏, –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏ –∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—è–º–∏, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è—Å—å, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω–∞—Ö–æ–¥—è –ø–æ–∫–æ—è. –í–∞—à –ø—É—Ç—å - —ç—Ç–æ –∏ –µ—Å—Ç—å —Ü–µ–ª—å.',
        requirements: { type: 'aspect', aspect: 'MOTH', count: 3 }
    },
    LANTERN_ENDING: {
        title: '–ñ–ò–í–û–ô –°–í–ï–¢',
        description: '–õ–∞–º–ø–∞–¥–∞ –æ—Å–≤–µ—Ç–∏–ª–∞ –≤–∞–º –ø—É—Ç—å –∫ –∏—Å—Ç–∏–Ω–Ω–æ–º—É –ø–æ–Ω–∏–º–∞–Ω–∏—é. –í—ã —Å—Ç–∞–ª–∏ —á–∏—Å—Ç—ã–º —Å–æ–∑–Ω–∞–Ω–∏–µ–º, —Å–≤–µ—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –æ—Å–≤–µ—â–∞–µ—Ç —Ç–∞–π–Ω—ã –≤—Å–µ–ª–µ–Ω–Ω–æ–π. –í—ã –≤–∏–¥–∏—Ç–µ –≤—Å–µ —Å–≤—è–∑–∏, –≤—Å–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Å–ª–µ–¥—Å—Ç–≤–∏—è. –í—ã - —Å–∞–º–æ –æ–∑–∞—Ä–µ–Ω–∏–µ, –Ω–æ –±–æ–ª—å—à–µ –Ω–µ —á–µ–ª–æ–≤–µ–∫.',
        requirements: { type: 'aspect', aspect: 'LANTERN', count: 3 }
    },
    FORGE_ENDING: {
        title: '–í–ï–õ–ò–ö–ò–ô –ö–£–ó–ù–ï–¶',
        description: '–ö—É–∑–Ω—è —Å–¥–µ–ª–∞–ª–∞ –≤–∞—Å —Ç–≤–æ—Ä—Ü–æ–º —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–µ–π. –í—ã –ø–µ—Ä–µ–ø–ª–∞–≤–ª—è–µ—Ç–µ –º–∏—Ä—ã, —Å–æ–∑–¥–∞–µ—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–∫–æ–Ω—ã —Ñ–∏–∑–∏–∫–∏, –∫–æ–≤—ã–µ—Ç–µ —Å—É–¥—å–±—ã. –í—ã - –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏, –Ω–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–æ—Ç–µ—Ä—è–ª–∏ –≤—Å–µ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–µ. –¢–µ–ø–µ—Ä—å –≤—ã —Ç–æ–ª—å–∫–æ —Å–æ–∑–∏–¥–∞—Ç–µ–ª—å, –±–µ–∑ —ç–º–æ—Ü–∏–π, –±–µ–∑ —Ü–µ–ª–∏, –∫—Ä–æ–º–µ —Å–∞–º–æ–≥–æ –∞–∫—Ç–∞ —Ç–≤–æ—Ä–µ–Ω–∏—è.',
        requirements: { type: 'aspect', aspect: 'FORGE', count: 3 }
    },
    SECRET_HISTORIES_ENDING: {
        title: '–•–†–û–ù–ò–ö–ï–† –ë–ï–ó–î–ù–´',
        description: '–¢–∞–π–Ω—ã–µ –ò—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞–ª–∏ –≤–∞—à–µ–π –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é. –í—ã –∑–Ω–∞–µ—Ç–µ –≤—Å–µ, —á—Ç–æ –±—ã–ª–æ, –∏ –≤–∏–¥–∏—Ç–µ –≤—Å–µ, —á—Ç–æ –±—É–¥–µ—Ç. –í—ã —Å—Ç–∞–ª–∏ —Ö–æ–¥—è—á–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∑–∞–±—ã—Ç—ã—Ö –º–∏—Ä–æ–≤, –Ω–æ —Ü–µ–Ω–∞ - –≤–µ—á–Ω–æ–µ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ. –ù–∏–∫—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å —Ç–æ–≥–æ, —á—Ç–æ –∑–Ω–∞–µ—Ç–µ –≤—ã.',
        requirements: { type: 'aspect', aspect: 'SECRET_HISTORIES', count: 3 }
    },
    KNOCK_ENDING: {
        title: '–í–†–ê–¢–ê–†–¨',
        description: '–í—ã –æ—Å–≤–æ–∏–ª–∏ –°—Ç—É–∫ –∏ —Ç–µ–ø–µ—Ä—å —è–≤–ª—è–µ—Ç–µ—Å—å —Å—Ç—Ä–∞–∂–µ–º –≤—Å–µ—Ö –¥–≤–µ—Ä–µ–π, –≤—Å–µ—Ö –ø–æ—Ä—Ç–∞–ª–æ–≤, –≤—Å–µ—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. –í—ã —Ä–µ—à–∞–µ—Ç–µ, –∫—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏, –∞ –∫—Ç–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è. –í—ã - –∂–∏–≤–æ–π –∫–ª—é—á –∫–æ –≤—Å–µ–º –∑–∞–º–∫–∞–º, –Ω–æ —Å–∞–º–∏ –Ω–∞–≤–µ—á–Ω–æ –∑–∞–ø–µ—Ä—Ç—ã –º–µ–∂–¥—É –º–∏—Ä–∞–º–∏.',
        requirements: { type: 'aspect', aspect: 'KNOCK', count: 3 }
    },
    
    // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–æ–≤–∫–∏
    CULT_LEADER: {
        title: '–õ–ò–î–ï–† –ö–£–õ–¨–¢–ê',
        description: '–í–∞—à–∏ —É—Å–∏–ª–∏—è –ø–æ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π —É–≤–µ–Ω—á–∞–ª–∏—Å—å —É—Å–ø–µ—Ö–æ–º. –í—ã –æ—Å–Ω–æ–≤–∞–ª–∏ –ø—Ä–æ—Ü–≤–µ—Ç–∞—é—â–∏–π –∫—É–ª—å—Ç, —á–ª–µ–Ω—ã –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–∫–ª–æ–Ω—è—é—Ç—Å—è –≤–∞–º –∫–∞–∫ –ø—Ä–æ—Ä–æ–∫—É. –í–∞—à–µ –≤–ª–∏—è–Ω–∏–µ —Ä–∞—Å—Ç–µ—Ç —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º, –∏ —Å–∫–æ—Ä–æ –≤–µ—Å—å –≥–æ—Ä–æ–¥ –±—É–¥–µ—Ç –ø–æ–¥ –≤–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.',
        requirements: { type: 'followers', count: 5 }
    },
    
    CLERK: {
        title: '–û–§–ò–°–ù–´–ô –ö–õ–ï–†–ö',
        description: '–í—ã —É—Å—Ç–∞–ª–∏ –æ—Ç –ø–æ–∏—Å–∫–æ–≤ —Ç–∞–π–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π –∏ —Ä–µ—à–∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏. –¢–µ–ø–µ—Ä—å –≤—ã –æ–±—ã—á–Ω—ã–π –∫–ª–µ—Ä–∫, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å 9 –¥–æ 18, –æ–ø–ª–∞—á–∏–≤–∞—é—â–∏–π –∏–ø–æ—Ç–µ–∫—É –∏ –º–µ—á—Ç–∞—é—â–∏–π –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏. –¢–∞–π–Ω—ã–µ –∑–Ω–∞–Ω–∏—è —Å—Ç–∞–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–∞–Ω–Ω—ã–º –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º –∏–∑ –º–æ–ª–æ–¥–æ—Å—Ç–∏.',
        requirements: { type: 'career', workCount: 9 }
    }
};

// –û–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
const gameState = {
    // –†–µ—Å—É—Ä—Å—ã
    health: 10,
    reason: 10,
    funds: 5,
    
    // –ö–æ–ª–ª–µ–∫—Ü–∏–∏
    cards: [],
    logEntries: ['–í—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ —Å–≤–æ–π –ø—É—Ç—å –≤ —Ç–∞–π–Ω—ã—Ö –∑–Ω–∞–Ω–∏—è—Ö...'],
    
    // –ü–æ–∑–∏—Ü–∏–∏
    cardPositions: {},
    
    // –ü—Ä–æ–≥—Ä–µ—Å—Å
    hasAspect: false,
    cultCreated: false,
    cultAspect: null, // –ö–∞–∫–æ–π –∞—Å–ø–µ–∫—Ç –≤—ã–±—Ä–∞–Ω –¥–ª—è –∫—É–ª—å—Ç–∞
    
    // –°—Ç–µ–∫–∏ (–±—ã–≤—à–∏–µ –≥—Ä—É–ø–ø—ã)
    cardStacks: {},
    
    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤
    obtainedKnowledge: new Set(),
    
    // –°—á–µ—Ç—á–∏–∫–∏
    consecutiveWork: 0, // –î–ª—è –∫–æ–Ω—Ü–æ–≤–∫–∏ –∫–ª–µ—Ä–∫–∞ (—Ç–µ–ø–µ—Ä—å 9 —Ä–∞–±–æ—Ç –ø–æ–¥—Ä—è–¥)
    workCount: 0, // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç
    ritualCount: 0, // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã—Ö —Ä–∏—Ç—É–∞–ª–æ–≤
    
    // –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–ª–∞–≥–∏
    showedCareerModal: false // –ü–æ–∫–∞–∑—ã–≤–∞–ª–∏ –ª–∏ —É–∂–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–∞—Ä—å–µ—Ä—ã
};

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
function saveGameState() {
    const gameStateToSave = {
        // –†–µ—Å—É—Ä—Å—ã
        health: gameState.health,
        reason: gameState.reason,
        funds: gameState.funds,
        
        // –ü—Ä–æ–≥—Ä–µ—Å—Å
        hasAspect: gameState.hasAspect,
        cultCreated: gameState.cultCreated,
        cultAspect: gameState.cultAspect,
        
        // –ö–æ–ª–ª–µ–∫—Ü–∏–∏
        logEntries: gameState.logEntries,
        cards: gameState.cards,
        cardStacks: gameState.cardStacks,
        
        // –°—á–µ—Ç—á–∏–∫–∏
        consecutiveWork: gameState.consecutiveWork,
        workCount: gameState.workCount,
        ritualCount: gameState.ritualCount,
        
        // –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã
        obtainedKnowledge: Array.from(gameState.obtainedKnowledge),
        
        // –§–ª–∞–≥–∏
        showedCareerModal: gameState.showedCareerModal
    };
    
    localStorage.setItem('cultGameState', JSON.stringify(gameStateToSave));
    localStorage.setItem('cultGameCards', JSON.stringify(gameState.cards));
    localStorage.setItem('cultGameCardPositions', JSON.stringify(gameState.cardPositions));
}